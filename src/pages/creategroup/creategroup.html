<ion-header>
  <ion-navbar color="danger" hideBackButton style="text-align:center;">
    <ion-title *ngIf="page === 'edit'" >{{ 'editgroup' | translate }}</ion-title>
    <ion-title *ngIf="page !== 'edit'">{{ 'creatgroup' | translate }}</ion-title>
    <ion-buttons left>
      <button ion-button (click)="ViewCtrl.dismiss()">
        <ion-icon md="ios-arrow-back" ios="ios-arrow-back" style="font-size: 2.5rem;color:white;" ></ion-icon>
      </button>
    </ion-buttons>
  </ion-navbar>
</ion-header>

<ion-content padding>

  <ion-refresher slot="fixed" (ionRefresh)="doRefresh($event)">
    <ion-refresher-content 
      pullingIcon="ios-arrow-dropup"
      refreshingSpinner=null>
    </ion-refresher-content>
  </ion-refresher>

  <ion-row>
    <ion-col col-12>
      <ion-label style="font-size: 18px; color: #e26c40;">{{'Group Name' | translate}}</ion-label>
    </ion-col>
    <ion-col col-12>
      <ion-input [(ngModel)]="name" type="text" placeholder="{{'Group Name' | translate}}" [dir]="langdirection" style="padding:0 10px;border:1px solid lightgray;border-radius: 10px;"></ion-input>
    </ion-col>
  </ion-row>
  
  <ion-row>
    <ion-col>
      <p style="font-size: 18px; color: #e26c40;">{{'choosefriends' | translate}}</p>      
    </ion-col>
  </ion-row>
  <ion-row *ngIf="friends.length === 0 && friendsInGroup.length === 0">
    <ion-col>
      <p style="text-align: center;color:#3d3d3d;font-size: 1.1em;font-weight: bold;">{{'nofriendsToAdd'| translate}}</p>      
    </ion-col>
  </ion-row>

  <ion-row *ngFor="let item of friendsInGroup">
    <ion-col col-3>
      <img class="circle-pic" src="{{item.profile_pic}}"
      onerror="this.onerror=null;this.src='assets/imgs/camera.png';"
      style="margin-top: 0px;margin-left: 0px;margin-right: 0px;">
      </ion-col>
        <ion-col col-6>
          <p>{{item.username}}</p> 
          <p>{{item.phone}}</p>  
      </ion-col>
      <ion-col col-3>
        <ion-checkbox checked (ionChange)="unCheckFriend(item.id)"></ion-checkbox>
    </ion-col> 
  </ion-row>

  <ion-row *ngFor="let item of friends">
    <ion-col col-3>
      <img class="circle-pic" src="{{item.profile_pic}}"
      onerror="this.onerror=null;this.src='assets/imgs/camera.png';"
       style="margin-top: 0px;margin-left: 0px;margin-right: 0px;">
    </ion-col>
    <ion-col col-6>
      <p>{{item.username}}</p> 
      <p>{{item.phone}}</p>  
    </ion-col>
    <ion-col col-3>
      <ion-checkbox (ionChange)="checkfriend(item.id)"></ion-checkbox>
    </ion-col> 
  </ion-row>
  
  <p style="text-align:center;">
    <button ion-button style="background-color:#e26c40;color:white; width: 150px;border-radius: 10px;" (click)="create()">{{'save' | translate}}
    </button>
  </p>
</ion-content>
