<ion-header>
	<ion-navbar color="danger" style="text-align:center;" hideBackButton>
		<ion-title>{{'editProfile'| translate}}</ion-title>
			<ion-buttons left>
				<button ion-button (click)="ViewCtrl.dismiss()">
						<ion-icon md="ios-arrow-back" ios="ios-arrow-back"  style="font-size: 2.5rem;color:white;" ></ion-icon>
				</button>
		</ion-buttons>
	</ion-navbar>
</ion-header>



<ion-content padding>

  <ion-row>
    <div class="takePhoto">
      <img style="text-align:center;" src="{{userImageUrl}}" class="circle-pic"
      onerror="this.onerror=null;this.src='assets/imgs/user.png';" (click)="selectImage()">
      <ion-icon name="ios-camera" (click)="selectImage()"></ion-icon>
    </div>
  </ion-row>
    
  <form [formGroup]="userForm" (ngSubmit)="onSubmit()">
    <ion-list>
      <ion-item no-lines>
        <ion-label floating>{{'username' | translate}}</ion-label>
        <ion-input [dir]="langdirection" formControlName='username' type="text"></ion-input>    
      </ion-item>

      <ion-row>
        <ion-col>
            <div class="error-message" *ngIf="userForm.controls['username'].errors?.required &&
              userForm.controls['username'].touched">
              {{'usernamerequired'| translate}}
            </div>
            <div class="error-message" *ngIf="userForm.controls['username'].errors?.minlength">
              {{'The username must be at least 4 characters'| translate}}.
            </div>
        </ion-col>
      </ion-row>
   
      <ion-item no-lines>
        <ion-label floating>{{'name' | translate}}</ion-label>
        <ion-input [dir]="langdirection" formControlName='name' type="text"></ion-input>
      </ion-item>

      <ion-row>
        <ion-col>
          <div class="error-message" *ngIf="userForm.controls['name'].errors?.required &&
            userForm.controls['name'].touched">
            {{'namerequired'| translate}}
          </div>
        </ion-col>
      </ion-row>

      <ion-item no-lines>
        <ion-label floating>{{'email' | translate}}</ion-label>
        <ion-input [dir]="langdirection" formControlName='email' type="text"></ion-input>
      </ion-item>

      <ion-row>
        <ion-col>
          <div class="error-message" *ngIf="userForm.controls['email'].errors?.required &&
            userForm.controls['email'].touched">
            {{'emailrequired'| translate}}
          </div>
          <div class="error-message" *ngIf="userForm.controls['email'].errors?.email">
            {{'invalidemail'| translate}}
          </div>
        </ion-col>
      </ion-row>

      <ion-item no-lines>
        <ion-label floating>{{'mobile' | translate}}</ion-label>
        <ion-input [dir]="langdirection" formControlName='phone' type="number"></ion-input>
      </ion-item>

      <ion-row>
        <ion-col>
          <div class="error-message" *ngIf="userForm.controls['phone'].errors?.required &&
          userForm.controls['phone'].touched">
            {{'fieldrequired'| translate}}
          </div>
          <div class="error-message" *ngIf="userForm.controls['phone'].errors?.minlength || 
            userForm.controls['phone'].errors?.maxlength">
            {{'invalidphone'| translate}}
          </div>
        </ion-col>
      </ion-row>

    </ion-list>    
    <button ion-button style="background-color:#e26c40;" type="submit" block [disabled]='!userForm.valid'>{{'save' | translate}}</button>
</form>
</ion-content>
